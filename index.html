<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>OKX 合约手续费计算器（极简版）</title>
<style>
  body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; padding: 30px; }
  .box { max-width: 380px; border: 1px solid #ddd; padding: 20px; border-radius: 14px; }
  label { font-weight: bold; margin-top: 12px; display: block; }
  input, select {
    width: 100%; padding: 10px; font-size: 15px;
    border-radius: 8px; border: 1px solid #ccc; margin-top: 6px;
  }
  button {
    width: 100%; padding: 12px; background:#0068ff; 
    border:none; border-radius:8px; margin-top:20px;
    color:#fff; font-size:16px; font-weight:bold;
  }
  .result { margin-top: 20px; font-size: 18px; font-weight: bold; }
</style>
</head>
<body>

<div class="box">

  <h2>OKX 合约手续费计算器</h2>

  <label>开仓价格</label>
  <input id="openPx" type="number" step="0.0001" />

  <label>平仓价格</label>
  <input id="closePx" type="number" step="0.0001" />

  <label>数量（币）</label>
  <input id="qty" type="number" step="0.0001" />

  <label>Maker 手续费率（如 0.0002）</label>
  <input id="maker" type="number" step="0.00001" />

  <label>Taker 手续费率（如 0.0005）</label>
  <input id="taker" type="number" step="0.00001" />

  <label>开仓类型</label>
  <select id="openRole">
    <option value="maker">Maker</option>
    <option value="taker">Taker</option>
  </select>

  <label>平仓类型</label>
  <select id="closeRole">
    <option value="maker">Maker</option>
    <option value="taker">Taker</option>
  </select>

  <button onclick="calc()">计算手续费</button>

  <div class="result" id="result"></div>

</div>

<script>
function calc() {
  const openPx = Number(document.getElementById("openPx").value);
  const closePx = Number(document.getElementById("closePx").value);
  const qty = Number(document.getElementById("qty").value);
  const maker = Number(document.getElementById("maker").value);
  const taker = Number(document.getElementById("taker").value);
  const openRole = document.getElementById("openRole").value;
  const closeRole = document.getElementById("closeRole").value;

  const openRate = openRole === "maker" ? maker : taker;
  const closeRate = closeRole === "maker" ? maker : taker;

  const openFee = qty * openPx * openRate;
  const closeFee = qty * closePx * closeRate;
  const total = openFee + closeFee;

  document.getElementById("result").textContent =
    "总手续费：" + total.toFixed(6);
}
</script>

</body>
</html>
